@using ChairShopping.Interfaces;
@model PagedList<Product>
@using Microsoft.AspNetCore.Identity

@inject SignInManager<ApplicationUser> _SignInManager
@inject UserManager<ApplicationUser> _UserManager

@if (Model.Items.Count == 0)
{
    <h4 style="color:red;">No Products for this Category</h4>
}
@foreach (var items in Model.Items)
{
    <!-- Block2 -->
    <div class="col-sm-6 col-md-4 col-lg-3 p-b-35 isotope-item women">
        <div class="block2">
            <form asp-action="AddToCart" asp-controller="Cart" method="get">
                <div class="block2-pic hov-img0">
                    <div class="block2-pic hov-img0">
                        <img src="~/asset/images/@items.Image" alt="IMG-PRODUCT" width="200" height="300" style="border-radius:10px">
                        <div class="wrap-num-product flex-w m-r-20 m-tb-10">
                            <input type="hidden" name="Price" value="@items.Price" />
                            <input type="hidden" name="ProductId" value="@items.Id" />
                            <input type="hidden" name="Discount" value="0" />
                            @if (_SignInManager.IsSignedIn(User))
                            {
                                <input type="hidden" name="UserId" value="@_UserManager.GetUserId(User)" />
                            }
                            <div class="btn-num-product-down cl8 hov-btn3 trans-04 flex-c-m">
                                <i class="fs-16 zmdi zmdi-minus"></i>
                            </div>

                            <input class="mtext-104 cl3 txt-center num-product" type="number" name="Quantity" value="1">

                            <div class="btn-num-product-up cl8 hov-btn3 trans-04 flex-c-m">
                                <i class="fs-16 zmdi zmdi-plus"></i>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="block2-txt flex-w flex-t p-t-14">
                    <div class="block2-txt-child1 flex-col-l ">
                        <a asp-action="Index" asp-controller="ProductDetails" asp-route-id="@items.Id" class="stext-104 cl4 hov-cl1 trans-04 js-name-b2 p-b-6">
                            Esprit Ruffle Shirt
                        </a>

                        <span class="stext-105 cl3">
                            @items.Price $
                        </span>
                    </div>

                    <div class="block2-txt-child2 flex-r p-t-3">
                        <a href="#" class="btn-addwish-b2 dis-block pos-relative js-addwish-b2">
                            <img class="icon-heart1 dis-block trans-04" src="images/icons/icon-heart-01.png" alt="ICON">
                            <img class="icon-heart2 dis-block trans-04 ab-t-l" src="images/icons/icon-heart-02.png" alt="ICON">
                        </a>
                    </div>
                </div>
                <button type="submit" class="flex-c-m stext-101 cl5 size-103 bg2 bor1 hov-btn1 p-lr-15 trans-04">
                    Add to cart
                </button>
            </form>
        </div>
    </div>
}


<!-- Add pagination links -->
<nav>
    <ul lass="pagination justify-content-center">
        @if (Model.HasPreviousPage)
        {
            <li class="page-item">
                <a class="page-link" href="@Url.Action("Index", new { pageNumber = Model.PageIndex - 1, pageSize = Model.PageSize })">Previous</a>
            </li>
        }
        @for (var i = 1; i <= Model.TotalPages; i++)
        {
            <li class="page-item @(i == Model.PageIndex ? "active" : "")">
                <a class="page-link" href="@Url.Action("Index", new { pageNumber = i, pageSize = Model.PageSize })">@i</a>
            </li>
        }
        @if (Model.HasNextPage)
        {
            <li class="page-item">
                <a class="page-link" href="@Url.Action("Index", new { pageNumber = Model.PageIndex + 1, pageSize = Model.PageSize })">Next</a>
            </li>
        }
    </ul>
</nav>




